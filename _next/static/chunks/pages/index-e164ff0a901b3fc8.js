(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6101)}])},6101:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return W}});var t=r(5893),i=r(9008),o=r(7948),u=r(7357),c=r(5861),s=r(7294),a=r(2004),l=r(5113),f=function(n){return"".concat(n).padStart(2,"0")},d=function(n){return{minutes:f(Math.floor(n/60)),seconds:f(Math.floor(n%60))}},h=r(1409),p=function(n){var e=n.duration,r=n.progress,i=d(e),o=i.minutes,u=i.seconds,s=d(e*r),a=s.minutes,l=s.seconds;return(0,t.jsxs)(c.Z,{variant:"caption",sx:{alignSelf:"flex-end"},gutterBottom:!0,children:[a,":",l," / ",o,":",u]})},x=function(n){var e=n.relativePosition,r=n.audioDuration,i=d(e*r),o=i.minutes,s=i.seconds;return(0,t.jsxs)(u.Z,{sx:{left:"".concat(100*e,"%"),position:"absolute",height:"100%",top:0},children:[(0,t.jsx)(u.Z,{height:"140%",width:2,sx:{position:"absolute",top:"-20%",backgroundColor:"secondary.main"}}),(0,t.jsxs)(c.Z,{variant:"caption",sx:{position:"absolute",top:"120%",left:"-50%",textAlign:"center"},children:[o,":",s]})]})},g=function(n){var e=n.progress,r=n.audioDuration,i=n.markers,o=n.onClick,c=(0,s.useRef)(null),a=function(n){var e=(0,s.useState)({}),r=e[0],t=e[1];return(0,s.useEffect)((function(){if(n.current){var e=new ResizeObserver((0,h.Z)((function(){t(n.current.getBoundingClientRect())}),500));return e.observe(document.body),function(){e.unobserve(document.body)}}}),[n,t]),r}(c),l=(0,s.useCallback)((function(n){var e=a.x,r=a.width;o((n.clientX-e)/r)}),[o,a]);return(0,t.jsxs)(u.Z,{mt:2,pb:3,sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(p,{duration:r,progress:e}),(0,t.jsxs)(u.Z,{sx:{backgroundColor:"grey.200",height:40,position:"relative",borderRadius:1},onClick:l,ref:c,children:[(0,t.jsx)(u.Z,{sx:{backgroundColor:"primary.light",height:"100%",borderTopLeftRadius:function(n){return n.shape.borderRadius},borderBottomLeftRadius:function(n){return n.shape.borderRadius}},style:{width:"".concat(100*e,"%")}}),i.map((function(n,e){return(0,t.jsx)(x,{audioDuration:r,relativePosition:n},e)}))]})]})},v=r(6863),j=r(1057),m=r(4314),y=r(5819),b=r(5503),Z=[.5,1,1.5,2],k=function(n){var e=n.speed,r=n.playing,i=n.setPlaying,o=n.setSpeed,u=n.addMarker,c=(0,s.useState)(null),a=c[0],l=c[1],f=function(n){return function(){n&&o(n),l(null)}};return(0,t.jsxs)(v.Z,{sx:{ml:3},children:[(0,t.jsx)(j.Z,{onClick:function(){return i(!r)},children:r?"Pause":"Play"}),(0,t.jsx)(j.Z,{onClick:function(n){l(n.currentTarget)},endIcon:(0,t.jsx)(b.Z,{}),children:"Speed"}),(0,t.jsx)(m.Z,{anchorEl:a,open:!!a,onClose:f(null),anchorOrigin:{horizontal:20,vertical:"bottom"},children:Z.map((function(n){return(0,t.jsxs)(y.Z,{selected:e===n,onClick:f(n),children:[n.toFixed(1),"x"]},n)}))}),(0,t.jsx)(j.Z,{onClick:function(){return u()},children:"Set Marker"})]})},w=r(2882),P=r(7906),O=r(3184),C=r(3816),S=r(3252),D=r(295),A=function(n){var e=n.markers,r=n.removeMarker;return(0,t.jsx)(u.Z,{mt:3,children:(0,t.jsx)(w.Z,{component:l.Z,variant:"outlined",sx:{maxHeight:"70vh",overflow:"scroll"},children:(0,t.jsxs)(P.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,t.jsx)(O.Z,{children:(0,t.jsxs)(C.Z,{children:[(0,t.jsx)(S.Z,{children:"Markerposition"}),(0,t.jsx)(S.Z,{children:"Actions"})]})}),(0,t.jsx)(D.Z,{children:e.map((function(n){var e=n.relativeTime,i=n.minutes,o=n.seconds;return(0,t.jsxs)(C.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,t.jsxs)(S.Z,{component:"th",scope:"row",children:[i,":",o," (",e.toFixed(3),")"]}),(0,t.jsx)(S.Z,{component:"th",scope:"row",children:(0,t.jsx)(j.Z,{onClick:function(){return r(e)},children:"Remove"})})]},e)}))})]})})})},R=r(9218),_=r(5913),E=r(5617),M=function(){return(0,E.I0)()},F=E.v9;function I(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var T=function(n){var e=n.file,r=M(),i=F((function(n){return n.player})),o=i.playing,f=i.progress,h=i.duration,p=i.speed,x=i.markers,v=e.objectUrl,j=e.name,m=function(n){return r(_.i9.setPlaying(n))},y=function(){return r(_.i9.togglePlaying())},b=function(){return r(_.i9.addMarker())},Z=(0,s.useRef)(null);(0,R.y1)("k",(function(){y()}),[y]),(0,R.y1)("space",(function(n){n.preventDefault(),b()}),[b]);var w=(0,s.useCallback)((function(n){var e;null===(e=Z.current)||void 0===e||e.seekTo(f*h+n,"seconds")}),[f,h]);return(0,R.y1)("j",(function(){return w(-10)}),[w]),(0,R.y1)("l",(function(){return w(10)}),[w]),(0,R.y1)("left",(function(){return w(-5)}),[w]),(0,R.y1)("right",(function(){return w(5)}),[w]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Z,{sx:{mt:2,p:2},variant:"outlined",children:[(0,t.jsxs)(u.Z,{sx:{display:"flex"},children:[(0,t.jsx)(c.Z,{variant:"h6",children:j}),(0,t.jsx)(k,{playing:o,speed:p,setPlaying:m,setSpeed:function(n){return r(_.i9.setSpeed(n))},addMarker:b})]}),(0,t.jsx)(a.Z,{url:v,playing:o,onPlay:function(){return m(!0)},onPause:function(){return m(!1)},onEnded:function(){return m(!1)},onProgress:function(n){var e,t=n.played;return e=t,r(_.i9.setProgress(e))},onDuration:function(n){return function(n){return r(_.i9.setDuration(n))}(n)},progressInterval:100,width:0,height:0,controls:!0,playbackRate:p,config:{file:{forceAudio:!0}},ref:Z}),(0,t.jsx)(g,{progress:f,audioDuration:h,markers:x,onClick:function(n){var e;return null===(e=Z.current)||void 0===e?void 0:e.seekTo(n)}})]}),(0,t.jsx)(A,{removeMarker:function(n){return r(_.i9.removeMarker(n))},markers:x.map((function(n){return function(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){I(n,e,r[e])}))}return n}({relativeTime:n},d(n*h))}))})]})},N=r(5162);function B(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function X(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function z(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){X(n,e,r[e])}))}return n}function H(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o=[],u=!0,c=!1;try{for(r=r.call(n);!(u=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);u=!0);}catch(s){c=!0,i=s}finally{try{u||null==r.return||r.return()}finally{if(c)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return B(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(n){var e=n.setFile,r=(0,s.useCallback)((function(n){var r=H(n,1)[0];r&&e(r)}),[e]),i=(0,N.uI)({onDrop:r,multiple:!1,accept:"audio/*"}),o=i.getRootProps,u=i.getInputProps,a=i.isDragActive,f=i.isDragAccept;return(0,t.jsxs)(l.Z,z({},o(),{sx:{minHeight:100,display:"flex",justifyContent:"center",alignItems:"center",color:"text.secondary",cursor:"pointer",p:2,height:function(n){return n.spacing(25)}},variant:"outlined",children:[(0,t.jsx)("input",z({},u())),a&&f?(0,t.jsx)(c.Z,{variant:"body1",children:"Drop the file here ..."}):(0,t.jsx)(c.Z,{variant:"body1",children:"Drag and drop an audio file here, or click to select one"})]}))},U=r(1738),W=function(){var n=M(),e=F((function(n){return n.app.file}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{children:"Audiate"}),(0,t.jsx)("meta",{name:"description",content:"Annotate audio files"})]}),(0,t.jsx)(o.Z,{sx:{pt:10,height:"100vh"},children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(c.Z,{variant:"h3",gutterBottom:!0,children:"Audiate"}),!e.hasFile&&(0,t.jsx)(L,{setFile:function(e){return n(U.xZ.setFile(e))}}),e.hasFile&&(0,t.jsx)(T,{file:e})]})})]})}}},function(n){n.O(0,[73,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);